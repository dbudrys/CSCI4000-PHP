<!-- Domas Budrys Assignmnet 6.  04/21/20176666666        Question 4  -->

<!DOCTYPE html>
<html lang="en">

<head>
<title>Domas Budrys Kung Fu School</title>
<meta charset="utf-8">
<link href="main.css" rel="stylesheet" type="text/css">

</head>

<body>
    
    <script type="text/javascript">
        
        function queryStudentID() {
            
            var ajaxRequest;
			
			var ajaxDisplay;
            
            try{
			// Opera 8.0+, Firefox, Safari
			ajaxRequest = new XMLHttpRequest();
            } catch (e){
                
			// Internet Explorer Browsers
			try{
				ajaxRequest = new ActiveXObject("Msxml2.XMLHTTP");
			} catch (e) {
                
				try{
					ajaxRequest = new ActiveXObject("Microsoft.XMLHTTP");
				} catch (e){
                    
					// Something went wrong
					alert("Something Wrong Happend ");
					return false;
				}
			}
		}
        
        
        ajaxRequest.onreadystatechange = function() {
            if (ajaxRequest.readyState == 4 && this.status == 200)  {
				
			
				//div 'result' must exists but it should be hidden
                ajaxDisplay = document.getElementById('result');
                ajaxDisplay.innerHTML = ajaxRequest.responseText;
				
				
				//ajaxRequest.responseText; is the result, this means that it has to me split
				//need to add some characters in php in order to be able to split
				
				var splitting = ajaxRequest.responseText.split("|");
				
				
				
				document.getElementById('displayID').value = splitting[1];
				
				document.getElementById('displayName').value = splitting[2];
				
				document.getElementById('displayEmail').value = splitting[3];
				
				 document.getElementById('displayGPA').value = splitting[4];
				
		
            }// end of if
			
			
              
        }//end of  ajaxRequest.onreadystatechange
        
		
		
		
		
		
		
		
		
        //send input variable to domas_budrys_search_single.php
		
		
		// var studentID stores value of text box
        var studentID = document.getElementById('studentID').value;
		
		// var queryString makes it string 
        var queryString = "?studentID=" + studentID;
        ajaxRequest.open("GET", "domas_budrys_search_single.php" + queryString, true);
        ajaxRequest.send(null);
		

            
        }//end of queryGPA 
        
        
    </script>
    
    
    

<header>
    <h1>Domas Budrys Kung Fu School - Search &amp; Split</h1>
</header>

<main>

    <h2>Search for students by studentID</h2>


	
    <form name="myForm">
        StudentID:
        <input id="studentID" type="text" style="margin-left: 50px ">
        <br>
        
        <input type="button" onclick="queryStudentID();" value="Search"   style="margin-left: 128px ">
		
		<br>
		
		
        
    </form>
    <br>
	
	<h2>Student information will be displayed in the text boxes below</h2>
	
		Student ID:
		
		<input  type="text" id="displayID" value="" style="margin-left: 50px"  readonly >
		<br> <br> 
		
		Student Name:
		<input id="displayName" type="text" value="" style="margin-left: 23px" readonly >
		<br> <br>
		
		Email:
		<input id="displayEmail" type="text" value="" style="margin-left: 85px" readonly >
		<br> <br>
		
		GPA:
		<input id="displayGPA" type="text"  value="" style="margin-left: 91px" readonly>
		<br>
	
	

	
	<div id="result" style="display: none;"> hellow</div>


    <br>
	<br>
	
    <a href="index.html">Back to first page</a>
	
	<br>

	
</main>


<footer>
    <br>
    &#169;  Domas  Budrys Kung Fu School
</footer>

 
</body>

</html>
